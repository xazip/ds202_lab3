---
title: "Individual1 Lab 3"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### First Push code.  This is just for setting up the Repository. 

```{r}
#install.packages("devtools")
#devtools::install_github("hadley/productplots")

``` 


```{r}
data(happy, package = "productplots")
head(happy)
```


```{r}
HAPPY <- readRDS("HAPPY.rds")
head(HAPPY, 5)
# Info about  variables, gathered from the gssdata website.
# HAPPY - General happiness.   (All years available)
# YEAR - Gss year for this respondent.   (All years available)
# AGE - Age of the respondent. (All years available)
# SEX - Respondents sex (All years available)
# MARITAL - Marital status (All years available)
# DEGREE - Respondents highest degree   (All years available)
# FINRELA - Opinion of family income   (All years available)
# HEALTH - Condition of health   (Available 28 of 31 years recorded)
# WTSSALL - Weight of variables   (Available 17 of the 31 years recorded )


# [[[PARTYID]]] - Political party affiliation   (All years Available )

# [[[POLVIEWS]]] - Think of self as liberal or conservative   ( Available 29 of 31 years)
``` 

```{r}
class(HAPPY) # Is a data.fraem
str(HAPPY)
head(HAPPY, 20)
tail(HAPPY, 20)

### Things to note from the start
# HAPPY (Character)
# YEAR (Integer)
# AGE (Character) - seems a little weird
# SEX (Character)
# MARITAL (Character)
# DEGREE (Character)
# FINRELA (character)
# HEALTH (character)
# WTSSALL (numeric)
# PARTYID (character)
# POLVIEWS (Character)



dim(HAPPY)  #62466 Rows and 11 Columns
#HAPPY data.frame is in long format
names(HAPPY)

summary(HAPPY)



```

```{r}

table(HAPPY$HAPPY)  #CHECK
table(HAPPY$YEAR)   #CHECK
table(HAPPY$AGE)    #DETECTED  (DK)
table(HAPPY$SEX)    #CHECKED
table(HAPPY$MARITAL)  # CHECKED
table(HAPPY$DEGREE)   # DETECTED (DK)
table(HAPPY$FINRELA)  # DETECTED (DK)
table(HAPPY$HEALTH)   # DETECTED(DK, IAP)
#table(HAPPY$WTSSALL)  # CHECKED
table(HAPPY$PARTYID)   # DETECTED (DK)
table(HAPPY$POLVIEWS)   # DETECTED (DK, IAP)

# No "NA" values were detected.  This was verified above and also by viewing the global enviroment uisng the search bar. 

```

```{r}

HAPPY[HAPPY == "DK"] <- NA
HAPPY[HAPPY == "IAP"] <- NA
HAPPY[HAPPY == "NA"] <- NA  



#Replace all of the indcated values with NA
```


```{r}

library(dplyr)

glimpse(HAPPY)

```

```{r}
#is.XXX checks for specific type
#as.XXX casts to specific type

HAPPY <- HAPPY %>% mutate_if(is.character, as.factor) %>% mutate(AGE = recode(AGE, "89 OR OLDER" = "89")) %>% mutate(AGE = addNA(AGE)) %>% mutate(AGE = as.numeric(levels(AGE)[AGE]))




glimpse(HAPPY) 

```

```{r}
sum(table(HAPPY$AGE))

```